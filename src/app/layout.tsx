import './globals.css'
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import Header from './components/Header'
import Footer from './components/Footer'
import AuthSession from "./components/AuthSession";
//ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¿ í‚¤ ì½ê¸°
import { cookies } from 'next/headers'

const inter = Inter({ subsets: ['latin'] })

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export default function RootLayout({
  children
}: {
  children: React.ReactNode,
}) {

    //cookies(); // ëª¨íŠ¼ì¿ í‚¤ ê°€ì ¸ì˜´
    let cookie = cookies().get('displayCookie'); // getì•ˆì— ì¿ í‚¤ì´ë¦„ì ê¸°
    // console.error(cookie, 'ì¿ í‚¤ì´ë¦„ë‚´ë†”'); // { name: 'displayCookie', value: 'light' }

  return (
    <html lang="en">
      <body className={`${inter.className} text-center ${cookie?.value}`}>
        <AuthSession>
            <Header />
            {children}
            <Footer />
        </AuthSession>
    </body>
    </html>
  )
}


/*
    ì „ì²´ì ìœ¼ë¡œ ì»ê¸° ë•Œë¬¸ì— ì´ì œ next-authì— ìˆëŠ” signIn, signOutë“±  'use client' ì—ì„œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ëœë‹¤.
    useSessionì€ ì„œë²„í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©ë¶ˆê°€ëŠ¥, í´ë¼ì´ì–¸íŠ¸ ì„œë²„ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
    https://next-auth.js.org/getting-started/client#usesession

    ì°¸ê³ ğŸ‘€ : https://velog.io/@s_soo100/Next.js-13Next.js-13.2%EB%B2%84%EC%A0%BC%EC%97%90-Next-auth-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0
*/